<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ka'an Massage and Beauty - Gift Certificates</title>
    <link rel="stylesheet" href="Giftcertificates.css">
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Lato&display=swap" rel="stylesheet">
    <script type="text/javascript" src="https://cdn.emailjs.com/sdk/2.3.2/email.min.js"></script>
    <script type="text/javascript">
        emailjs.init(
            "Y7b4FXQna6pfsED7c"
        );
    </script>
    <script src="script.js"> </script>
</head>

<body>
    <div class="top-info-bar">
        <div class="contact-info">
            <span>Call or Text Now</span>
        </div>
        <div class="book-now-top">
            <a href="#">BOOK NOW</a>
        </div>
    </div>
    <div class="top-bar">
        <a href="Home.html">HOME</a>
        <a href="About.html">ABOUT</a>
        <a href="Rates.html">RATES + SERVICES</a>
        <div class="logo-container">
            <img src="images/Kaan_Massage.jpg" alt="Ka'an Massage and Beauty Logo">
        </div>
        <a href="Giftcertificates.html">GIFT CERTIFICATES</a>
        <a href="Hours.html">HOURS</a>
        <a href="Contactus.html">CONTACT US</a>
    </div>
    <h1>Gift certificates</h1>
    <div class="contact-form">
        <form id="giftCertificateForm">
            <input type="text" id="sender_name" name="sender_name" placeholder="YOUR NAME" required>
            <input type="email" id="sender_email" name="sender_email" placeholder="YOUR EMAIL" required>
            <input type="text" id="receiver_name" name="receiver_name" placeholder="RECEIVER'S NAME" required>
            <input type="email" id="receiver_email" name="receiver_email" placeholder="RECEIVER'S EMAIL" required>
            <select name="giftAmount" id="giftAmount" required>
                <option value="" disabled selected>Select amount</option>
                <option value="50">$50</option>
                <option value="60">$60</option>
                <option value="70">$70</option>
                <option value="80">$80</option>
                <option value="90">$90</option>
                <option value="100">$100</option>
                <option value="150">$150</option>
                <option value="200">$200</option>

            </select>
            <script src="payment-and-email.js"></script>
            <!-- <button type="submit" onclick="sendMail()">SEND</button> -->
        </form>
    </div>
    <div>
        <div style="
          overflow: auto;
          display: flex;
          flex-direction: column;
          justify-content: flex-end;
          align-items: center;
          width: 259px;
          background: #FFFFFF;
          border: 1px solid rgba(0, 0, 0, 0.1);
          box-shadow: -2px 10px 5px rgba(0, 0, 0, 0);
          border-radius: 10px;
          font-family: SQ Market, SQ Market, Helvetica, Arial, sans-serif;
          ">
            <div style="padding: 20px;">
                <a target="_blank" data-url="https://square.link/u/V1rFs6RM?src=embd"
                    href="https://square.link/u/V1rFs6RM?src=embed" id="embedded-checkout-modal-checkout-button" style="
            display: inline-block;
            font-size: 18px;
            line-height: 48px;
            height: 48px;
            color: #ffffff;
            min-width: 212px;
            background-color: #006aff;
            text-align: center;
            box-shadow: 0 0 0 1px rgba(0,0,0,.1) inset;
            border-radius: 6px;
          ">Pay now</a>
            </div>
        </div>
    </div>

    <script>
        function showCheckoutWindow(e) {
            e.preventDefault();

            const url = document.getElementById('embedded-checkout-modal-checkout-button').getAttribute('data-url');
            const title = 'Square Payment Links';

            // Some platforms embed in an iframe, so we want to top window to calculate sizes correctly
            const topWindow = window.top ? window.top : window;

            // Fixes dual-screen position                                Most browsers          Firefox
            const dualScreenLeft = topWindow.screenLeft !== undefined ? topWindow.screenLeft : topWindow.screenX;
            const dualScreenTop = topWindow.screenTop !== undefined ? topWindow.screenTop : topWindow.screenY;

            const width = topWindow.innerWidth ? topWindow.innerWidth : document.documentElement.clientWidth ? document.documentElement.clientWidth : screen.width;
            const height = topWindow.innerHeight ? topWindow.innerHeight : document.documentElement.clientHeight ? document.documentElement.clientHeight : screen.height;

            const h = height * .75;
            const w = 500;

            const systemZoom = width / topWindow.screen.availWidth;
            const left = (width - w) / 2 / systemZoom + dualScreenLeft;
            const top = (height - h) / 2 / systemZoom + dualScreenTop;
            const newWindow = window.open(url, title, `scrollbars=yes, width=${w / systemZoom}, height=${h / systemZoom}, top=${top}, left=${left}`);

            if (window.focus) newWindow.focus();
        }

        // This overrides the default checkout button click handler to show the embed modal
        // instead of opening a new tab with the given link url
        document.getElementById('embedded-checkout-modal-checkout-button').addEventListener('click', showCheckoutWindow);
    </script>
    <script src="script.js"></script>
</body>

</html>